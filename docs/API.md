# Веб-админка API

Базовый URL: `https://vh.d4o.tech`

Аутентификация: **HTTP Basic Auth** (логин — любой, пароль = `ADMIN_PASSWORD` из env).

---

## GET /

Главная страница — список дат с заполненностью.

**Ответ:** HTML (`index.html`)

Данные: дата, отформатированная дата, кол-во забронированных мест, вместимость, процент заполнения.

---

## GET /date/{date}

Записи на конкретную дату.

**Параметры пути:**
- `date` — дата в формате `YYYY-MM-DD`

**Ответ:** HTML (`date.html`)

Данные: список бронирований (id, имя, телефон, кол-во человек, время), итого человек.

---

## POST /cancel/{booking_id}

Отмена бронирования администратором.

**Параметры пути:**
- `booking_id` — ID записи в таблице `bookings`

**Действия:**
1. Удаляет запись из БД
2. Отправляет пользователю уведомление в Telegram через Bot API

**Ответ:** `303 Redirect` → `/date/{date}` (дата отменённой записи)

**Ошибки:** `404` если запись не найдена

---

## GET /subscribers

Список подписчиков бота.

**Query-параметры:**
- `filter` — `all` (по умолчанию) / `active` / `with_phone`

**Ответ:** HTML (`subscribers.html`)

Данные: имя, фамилия, username, телефон, статус (`active` / `left`), дата регистрации.

---

*Обновлено: 2026-02-25*
